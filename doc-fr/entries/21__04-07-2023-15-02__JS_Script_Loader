authors:
  - Denis Salem
categories:
  - ''
chapter: '4.6.2.1'
title: Chargeur de scripts JS
---VENC-BEGIN-PREVIEW---
---VENC-END-PREVIEW---
Avant tout chose, il convient de prendre connaissance du chargeur de scripts.

Dans le cas où vous souhaiteriez écrire votre script pour un thème de
votre confection, il est __fortement__ recommandé de l'exécuter à l'aide
de __`VenC-Scripts-Bootstrap-x.y.z.js`__ (`x.y.z` étant la version disponible
avec la distribution de VenC que vous possédez).

Ce script déclenche l'effet des modules JS quand la page est chargée.

.:CodeHighlight::Javascript::False::var VENC_ON_LOAD_CALLBACK_REGISTER = [];

function VENC_ON_LOAD_CALLBACK() {
    var i;
    for (i = 0; i < VENC_ON_LOAD_CALLBACK_REGISTER.length; i++) {
        VENC_ON_LOAD_CALLBACK_REGISTER[i]();
    }
}

window.onload = VENC_ON_LOAD_CALLBACK:.

Pour fonctionner, __`VenC-Scripts-Bootstrap-x.y.z.js`__ doit être le
premier script appelé dans votre page.

.:CodeHighlightInclude::html::False::js_loader_example:.

Ce module définit la variable **`VENC_ON_LOAD_CALLBACK_REGISTER`**
accessible depuis les autres scripts que vous importez dans votre page.
Il s'agit d'une liste de callbacks s'exécutant quand __`window.onload`__ est
appelé.

Typiquement, à la fin de votre script, pour que son effet se déclenche,
ajoutez votre callback comme ci-dessous :

.:CodeHighlight::Javascript::False::
VENC_ON_LOAD_CALLBACK_REGISTER.push(LE_CALLBACK_DE_MON_SUPER_MODULE_JS);
:.
